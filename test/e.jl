import MiniPi: Exp



#= Pi Reference data =#

const e_50 = "2.71828182845904523536028747135266249775724709369995"

const e_100 = "2." *
    "71828182845904523536028747135266249775724709369995" *
    "95749669676277240766303535475945713821785251664274"

const e_200 = "2." *
    "71828182845904523536028747135266249775724709369995" *
    "95749669676277240766303535475945713821785251664274" *
    "27466391932003059921817413596629043572900334295260" *
    "59563073813232862794349076323382988075319525101901"

# e_1e5[end-49:end]
const e_1e5_last50 = "42843941834687865142541377686054291079721004271658"

@testset "e" begin
    @test_throws DomainError Exp(61*10^9)

    function e_str(digits)
        to_digits = Int64(digits)
        to_string(Exp(to_digits), to_digits+1)
    end

    @test e_50 == e_str(50)
    @test e_100 == e_str(100)
    @test e_200 == e_str(200)

    # 1e5:  0.4s
    @test e_1e5_last50 == e_str(1e5)[end-49:end]

    # 1e6:  4.0s
    # 1e7:  44.0s
    # 2e7:  96.2s
end
